<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>QuickClick</title>
<style>
body {
    margin: 0;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #f0f2f5;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

.screen {
    background: #ffffff;
    padding: 40px 30px;
    border-radius: 16px;
    width: 600px;
    text-align: center;
    box-shadow: 0 15px 30px rgba(0,0,0,0.15);
}

#gameScreen, #levelScreen, #endGameScreen {
    display: none;
}

#gameArea {
    width: 500px;
    height: 300px;
    margin: 20px auto;
    border-radius: 12px;
    border: 2px solid #ccc;
    background: #fafafa;
    position: relative;
    overflow: hidden;
}

/* BOSS EFFECTS */
.boss-bg-flash { animation: bossFlash 0.15s infinite; }
@keyframes bossFlash {
    0% { background-color: #000; }
    50% { background-color: #fff; }
    100% { background-color: #000; }
}

.boss-circle {
    position: absolute;
    width: 30px;
    height: 30px;
    background: red;
    border-radius: 50%;
    pointer-events: none;
    z-index: 5;
    animation: pulse 0.6s forwards;
}

@keyframes pulse {
    0% { transform: scale(0.5); opacity: 1; }
    100% { transform: scale(2.5); opacity: 0; }
}

/* GOD MODE EFFECTS */
#heavenlyLight {
    position: absolute;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    width: 150px;
    height: 500px;
    background: linear-gradient(to bottom, rgba(255, 255, 150, 0.4), transparent);
    pointer-events: none;
    z-index: 1;
    display: none;
    filter: blur(20px);
}

.halo {
    position: absolute;
    border-radius: 50%;
    border: 4px solid gold;
    box-shadow: 0 0 20px gold;
    pointer-events: none;
    display: none;
    z-index: 9;
    animation: rotateHalo 4s linear infinite;
}

@keyframes rotateHalo {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* DRUNK MODE */
@keyframes insaneDrunk {
    0% { transform: rotate(0deg) scale(1) skew(0deg); filter: hue-rotate(0deg); }
    25% { transform: rotate(10deg) scale(1.2) skew(5deg); filter: hue-rotate(90deg); }
    50% { transform: rotate(-10deg) scale(0.8) skew(-5deg); filter: hue-rotate(180deg); }
    75% { transform: rotate(5deg) scale(1.1) skew(2deg); filter: hue-rotate(270deg); }
    100% { transform: rotate(0deg) scale(1) skew(0deg); filter: hue-rotate(360deg); }
}
.drunk-active { animation: insaneDrunk 2s infinite linear; }

.target {
    width: 50px;
    height: 50px;
    position: absolute;
    cursor: pointer;
    border-radius: 8px;
}

.decoy { background: #00aaff; }
.decoy.boss { animation: shake 0.2s infinite; }

@keyframes shake {
    0% { transform: translate(0,0); }
    25% { transform: translate(2px,2px); }
    50% { transform: translate(-2px,2px); }
    75% { transform: translate(2px,-2px); }
    100% { transform: translate(-2px,-2px); }
}

#box { background: #ff2a2a; z-index: 10; }

button {
    font-size: 18px;
    padding: 14px 28px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    background: #1d3557;
    color: white;
}

.info {
    font-size: 20px;
    margin-top: 10px;
    display: flex;
    justify-content: space-around;
    font-weight: bold;
}

#starsDisplay { margin-top: 10px; font-size: 24px; color: gold; }

/* GORILLA TAKEDOWN */
#gorillaLayer {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 2000;
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}
.gorilla-sprite { font-size: 150px; animation: smash 0.5s infinite; }
.takedown-text { font-size: 80px; color: red; font-weight: 900; text-shadow: 4px 4px black; }
.screen-smash { animation: shake 0.1s infinite !important; }

/* ADMIN HUD */
#adminHUD {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(29, 53, 87, 0.95);
    color: white;
    padding: 15px;
    border-radius: 10px;
    display: none;
    z-index: 3000;
    font-size: 13px;
    width: 200px;
}
.admin-btn { background: #457b9d; padding: 4px 8px; font-size: 11px; margin: 2px; border: none; color: white; border-radius: 4px; cursor: pointer; width: 100%; display: block;}
.funny-btn { background: #8338ec !important; font-weight: bold; }
.gorilla-btn { background: #38b000 !important; font-weight: bold; }
.freeze-btn { background: #00b4d8 !important; font-weight: bold; }

#adminToggleLink {
    display: block;
    margin-top: 20px;
    font-size: 12px;
    color: #aaa;
    cursor: pointer;
}
</style>
</head>

<body>

<div id="gorillaLayer">
    <div class="gorilla-sprite">ü¶ç</div>
    <div class="takedown-text">TAKEDOWN</div>
</div>

<div id="adminHUD">
    <strong>ADMIN CONSOLE</strong><br><hr>
    Points: <input type="number" id="injectVal" class="admin-input" style="width:40px" value="50">
    <button class="admin-btn" onclick="addPoints()">Add Points</button>
    <div style="display:flex;">
        <button class="admin-btn" onclick="modifyDecoys(1)">+ Decoy</button>
        <button class="admin-btn" onclick="modifyDecoys(-1)">- Decoy</button>
    </div>
    <hr>
    <button class="admin-btn" id="godBtn" onclick="toggleGodMode()">God Mode: OFF</button>
    <button class="admin-btn freeze-btn" id="freezeBtn" onclick="toggleFreeze()">Freeze Time: OFF</button>
    <button class="admin-btn funny-btn" onclick="toggleDrunkMode()">ü•¥ INSANE DRUNK</button>
    <button class="admin-btn gorilla-btn" onclick="summonGorilla()">ü¶ç GORILLA TAKEDOWN</button>
</div>

<div class="screen" id="startScreen" style="display: block;">
    <h1>QuickClick</h1>
    <p>Click the <b style="color:#ff2a2a">red</b> box.<br>Avoid the <b style="color:#00aaff">blue</b> distractions.<br>Every 50 points = 1 star.</p>
    <p>High Score: <span id="highScoreText">0</span></p>
    <div id="starsDisplay">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</div>
    <button onclick="startGame()">Start Game</button>
    <a id="adminToggleLink" onclick="unlockAdmin()">Admin Access</a>
</div>

<div class="screen" id="levelScreen">
    <h2 id="nextLevelTitle">Next Level</h2>
    <p id="levelMessage">Catch your breath!</p>
    <button onclick="continueGame()">I'm Ready</button>
</div>

<div class="screen" id="gameScreen">
    <h2 id="levelTitle">Level 1</h2>
    <div id="gameArea">
        <div id="heavenlyLight"></div>
        <div id="halo" class="halo"></div>
        <div id="box" class="target"></div>
    </div>
    <div class="info">
        <span>Score: <span id="score">0</span></span>
        <span>Time: <span id="time">30</span></span>
    </div>
</div>

<div class="screen" id="endGameScreen">
    <h1>üèÜ You Beat QuickClick! üèÜ</h1>
    <p style="font-size:22px; line-height: 1.5;">
        Congratulations! You have successfully collected all 5 stars and conquered the final boss challenge. 
        Your reflexes are unmatched!
    </p>
    <button onclick="resetEverything()">Restart QuickClick</button>
</div>

<div id="bossWarning" style="position:fixed; inset:0; background:rgba(0,0,0,0.8); color:red; display:none; justify-content:center; align-items:center; z-index:999; font-size:60px; font-weight:bold; text-align:center; flex-direction:column;">
    BOSS LEVEL<br>
    <span style="font-size:24px;">‚ö† FLASHING LIGHTS WARNING ‚ö†</span>
</div>

<script>
let level = 0, score = 0, stars = Number(localStorage.getItem("stars")) || 0;
let cumulative = Number(localStorage.getItem("cumulative")) || 0;
let highScore = Number(localStorage.getItem("highScore")) || 0;
let timer, mover, circleInterval, decoys = [];
let godMode = false, isDrunk = false, isGorillaTime = false, timeFrozen = false;
let timeLeft = 0;

const levels = [
    { time: 30, decoys: 3, speed: 1000 },
    { time: 25, decoys: 5, speed: 900 },
    { time: 20, decoys: 6, speed: 700 },
    { time: 15, decoys: 8, speed: 500, boss: true }
];

document.getElementById("highScoreText").textContent = highScore;
updateStarDisplay();

function unlockAdmin() {
    if (prompt("Enter Admin Code:") === "6769") {
        document.getElementById("adminHUD").style.display = "block";
        document.getElementById("adminToggleLink").style.display = "none";
    }
}

function updateStarDisplay() {
    document.getElementById("starsDisplay").textContent = "‚≠ê".repeat(stars) + "‚òÜ".repeat(5 - stars);
}

function addPoints() {
    let val = parseInt(document.getElementById("injectVal").value) || 0;
    score += val;
    document.getElementById("score").textContent = score;
    if (document.getElementById("startScreen").style.display === "block") {
        cumulative += val;
        processStars();
    }
}

function toggleFreeze() {
    timeFrozen = !timeFrozen;
    document.getElementById("freezeBtn").textContent = "Freeze Time: " + (timeFrozen ? "ON" : "OFF");
}

function toggleDrunkMode() {
    isDrunk = !isDrunk;
    document.getElementById("gameArea").classList.toggle("drunk-active", isDrunk);
}

function toggleGodMode() {
    godMode = !godMode;
    const btn = document.getElementById("godBtn");
    const box = document.getElementById("box");
    const halo = document.getElementById("halo");
    const light = document.getElementById("heavenlyLight");
    
    btn.textContent = "God Mode: " + (godMode ? "ON" : "OFF");
    box.style.width = godMode ? "100px" : "50px";
    box.style.height = godMode ? "100px" : "50px";
    halo.style.display = godMode ? "block" : "none";
    light.style.display = godMode ? "block" : "none";
    
    if(godMode) {
        halo.style.width = "120px";
        halo.style.height = "120px";
        updateHaloPosition();
    }
}

function updateHaloPosition() {
    if(!godMode) return;
    const box = document.getElementById("box");
    const halo = document.getElementById("halo");
    halo.style.left = (parseInt(box.style.left) - 10) + "px";
    halo.style.top = (parseInt(box.style.top) - 10) + "px";
}

function summonGorilla() {
    if (isGorillaTime) return;
    isGorillaTime = true;
    const layer = document.getElementById("gorillaLayer");
    const activeScreen = Array.from(document.querySelectorAll('.screen')).find(s => s.style.display === "block") || document.getElementById("gameScreen");
    layer.style.display = "flex";
    activeScreen.classList.add("screen-smash");
    setTimeout(() => {
        layer.style.display = "none";
        activeScreen.classList.remove("screen-smash");
        isGorillaTime = false;
    }, 3000);
}

function modifyDecoys(n) {
    if (n > 0) createOneDecoy();
    else if (decoys.length > 0) decoys.pop().remove();
}

function createOneDecoy() {
    const d = document.createElement("div");
    d.className = "target decoy" + (levels[level].boss ? " boss" : "");
    d.onclick = (e) => { 
        e.stopPropagation(); 
        if (!godMode) {
            score = Math.max(0, score - 2); 
            document.getElementById("score").textContent = score; 
        }
        move(d); 
    };
    document.getElementById("gameArea").appendChild(d);
    move(d);
    decoys.push(d);
}

function createBossCircle() {
    const circle = document.createElement("div");
    circle.className = "boss-circle";
    circle.style.left = Math.random() * 470 + "px";
    circle.style.top = Math.random() * 270 + "px";
    document.getElementById("gameArea").appendChild(circle);
    setTimeout(() => circle.remove(), 600);
}

function move(el) {
    const size = el.id === "box" && godMode ? 100 : 50;
    el.style.left = Math.random() * (500 - size) + "px";
    el.style.top = Math.random() * (300 - size) + "px";
    if(el.id === "box") updateHaloPosition();
}

function startGame() {
    document.getElementById("startScreen").style.display = "none";
    showLevel();
}

function showLevel() {
    const cfg = levels[level];
    if (cfg.boss) {
        document.getElementById("bossWarning").style.display = "flex";
        setTimeout(() => { 
            document.getElementById("bossWarning").style.display = "none"; 
            document.getElementById("gameArea").classList.add("boss-bg-flash");
            circleInterval = setInterval(() => { if(!isGorillaTime) createBossCircle(); }, 300);
            runLevel(cfg); 
        }, 3500);
    } else {
        document.getElementById("gameArea").classList.remove("boss-bg-flash");
        runLevel(cfg);
    }
}

function runLevel(cfg) {
    document.getElementById("gameScreen").style.display = "block";
    document.getElementById("levelTitle").textContent = cfg.boss ? "BOSS LEVEL" : "Level " + (level + 1);
    timeLeft = cfg.time;
    document.getElementById("time").textContent = timeLeft;
    decoys.forEach(d => d.remove()); decoys = [];
    for(let i=0; i<cfg.decoys; i++) createOneDecoy();
    move(document.getElementById("box"));

    mover = setInterval(() => { if(!isGorillaTime) { move(document.getElementById("box")); decoys.forEach(move); } }, cfg.speed);
    timer = setInterval(() => {
        if(!isGorillaTime && !timeFrozen) {
            timeLeft--;
            document.getElementById("time").textContent = timeLeft;
            if (timeLeft <= 0) endLevel();
        }
    }, 1000);
}

function endLevel() {
    clearInterval(timer); clearInterval(mover); clearInterval(circleInterval);
    document.getElementById("gameArea").classList.remove("boss-bg-flash");
    document.getElementById("gameArea").style.background = "#fafafa";
    document.querySelectorAll('.boss-circle').forEach(c => c.remove());
    level++;
    if (level >= levels.length) {
        cumulative += score;
        processStars();
        if (score > highScore) {
            highScore = score;
            localStorage.setItem("highScore", highScore);
            document.getElementById("highScoreText").textContent = highScore;
        }
        document.getElementById("gameScreen").style.display = "none";
        document.getElementById(stars >= 5 ? "endGameScreen" : "startScreen").style.display = "block";
        score = 0; level = 0;
    } else {
        document.getElementById("gameScreen").style.display = "none";
        document.getElementById("levelScreen").style.display = "block";
        let msg = (level === 1) ? "Great job! Speeding up..." : (level === 2) ? "Stay focused! It's getting crowded." : "BEWARE: THE BOSS APPROACHES!";
        document.getElementById("nextLevelTitle").textContent = (levels[level].boss ? "BOSS LEVEL" : "Level " + (level + 1));
        document.getElementById("levelMessage").textContent = msg;
    }
}

function continueGame() {
    document.getElementById("levelScreen").style.display = "none";
    showLevel();
}

function processStars() {
    while(cumulative >= 50 && stars < 5) { cumulative -= 50; stars++; }
    localStorage.setItem("stars", stars);
    localStorage.setItem("cumulative", cumulative);
    updateStarDisplay();
}

function resetEverything() {
    localStorage.clear();
    stars = 0; cumulative = 0; score = 0; level = 0; highScore = 0;
    timeFrozen = false;
    document.getElementById("freezeBtn").textContent = "Freeze Time: OFF";
    document.getElementById("highScoreText").textContent = "0";
    updateStarDisplay();
    document.getElementById("endGameScreen").style.display = "none";
    document.getElementById("startScreen").style.display = "block";
}

document.getElementById("box").onclick = (e) => { 
    e.stopPropagation(); 
    score++; 
    document.getElementById("score").textContent = score; 
    move(document.getElementById("box")); 
};
</script>
</body>
</html>
